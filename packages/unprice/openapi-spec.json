{"openapi":"3.0.3","info":{"title":"tRPC OpenAPI","description":"API for Unprice","version":"1.0.0"},"servers":[{"url":"http://app.localhost:3000/api/trpc"}],"paths":{"/edge/customers.can":{"get":{"operationId":"customers-can","security":[{"Authorization":[]}],"parameters":[{"name":"customerId","in":"query","required":true,"schema":{"type":"string"}},{"name":"featureSlug","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"userHasFeature":{"type":"boolean"},"deniedReason":{"type":"string","enum":["SUBSCRIPTION_EXPIRED","SUBSCRIPTION_NOT_ACTIVE","FEATURE_NOT_FOUND_IN_SUBSCRIPTION","CUSTOMER_HAS_NO_SUBSCRIPTION","CUSTOMER_NOT_FOUND","RATE_LIMITED","USAGE_EXCEEDED","FEATURE_TYPE_NOT_SUPPORTED"]},"currentUsage":{"type":"number"},"limit":{"type":"number"}},"required":["userHasFeature"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/edge/customers.reportUsage":{"get":{"operationId":"customers-reportUsage","security":[{"Authorization":[]}],"parameters":[{"name":"customerId","in":"query","required":true,"schema":{"type":"string"}},{"name":"featureSlug","in":"query","required":true,"schema":{"type":"string"}},{"name":"usage","in":"query","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"error":{"anyOf":[{"type":"string","enum":["SUBSCRIPTION_EXPIRED","SUBSCRIPTION_NOT_ACTIVE","FEATURE_NOT_FOUND_IN_SUBSCRIPTION","CUSTOMER_HAS_NO_SUBSCRIPTION","CUSTOMER_NOT_FOUND","RATE_LIMITED","USAGE_EXCEEDED","FEATURE_TYPE_NOT_SUPPORTED"]},{"type":"string","enum":["FEATURE_IS_NOT_USAGE_TYPE"]}]}},"required":["success"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}}},"components":{"securitySchemes":{"Authorization":{"type":"http","scheme":"bearer"}},"responses":{"error":{"description":"Error response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"},"issues":{"type":"array","items":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}},"required":["message","code"],"additionalProperties":false}}}}},"schemas":{}},"tags":[{"name":"unprice","description":"Operations related to unprice"}],"externalDocs":{"url":"http://example.com/docs"},"x-speakeasy-retries":{"strategy":"backoff","backoff":{"initialInterval":500,"maxInterval":60000,"maxElapsedTime":3600000,"exponent":1.5},"statusCodes":["5XX"],"retryConnectionErrors":true}}